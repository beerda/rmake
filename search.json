[{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Build Rules","text":"vignette describes various types build rules available rmake defining targets built dependencies. information project management (initialization, running builds, cleaning), see rmake Project Management vignette. advanced features like tasks templates, see Tasks Templates vignette.","code":""},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"common-rule-parameters","dir":"Articles","previous_headings":"","what":"Common Rule Parameters","title":"Build Rules","text":"rule functions following common parameters: target - Character vector files create depends - Character vector prerequisite files (optional) task - Task name(s) grouping (default: “”) params - Parameters pass scripts (optional rules) rule executes separate R process (shared state). Note: task parameter covered detail Tasks Templates vignette, params parameter explained parameterized execution section vignette.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"rrule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"rRule()","title":"Build Rules","text":"Executes R script using Rscript. rule triggered dependency script changes. Parameters: target - Name output file created script - Name R script execute depends - Vector file names script depends , NULL params - List R values become available within script params variable task - Character vector parent task names Example:","code":"rRule(target, script, depends = NULL, params = list(), task = \"all\") rRule(target = \"output.rds\",        script = \"process.R\",        depends = \"input.csv\")"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"markdownrule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"markdownRule()","title":"Build Rules","text":"Renders document R Markdown using rmarkdown::render(). Parameters: target - Name output file created script - Name R Markdown file render depends - Vector file names markdown script depends , NULL format - Output format specification (see ) params - List R values available within script params variable task - Character vector parent task names Format Options: \"\" - formats defined Rmd file \"html_document\" - HTML web page \"pdf_document\" - PDF document \"word_document\" - Microsoft Word \"odt_document\" - OpenDocument Text \"rtf_document\" - Rich Text Format \"md_document\" - Markdown Vector format names multiple formats Example:","code":"markdownRule(target, script, depends = NULL, format = \"all\",              params = list(), task = \"all\") markdownRule(target = \"report.pdf\",              script = \"report.Rmd\",              depends = \"data.rds\",              format = \"pdf_document\")"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"knitrrule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"knitrRule()","title":"Build Rules","text":"Executes knitr create text file using knitr::knit(). useful processing Sweave-style documents (.Rnw files). Parameters: target - Name output file created script - Name Rnw file rendered depends - Vector file names knitr script depends , NULL params - List R values available within script params variable task - Character vector parent task names Example:","code":"knitrRule(target, script, depends = NULL, params = list(), task = \"all\") knitrRule(target = \"report.tex\",           script = \"report.Rnw\",           depends = c(\"data1.csv\", \"data2.csv\"))"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"copyrule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"copyRule()","title":"Build Rules","text":"Copies file one location another. rule executes $(CP) depends[1] target. Parameters: target - Target file name copy file depends - Name file copy (first element used) task - Character vector parent task names Example:","code":"copyRule(target, depends, task = \"all\") copyRule(target = \"backup/data.csv\",          depends = \"data.csv\")"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"deprule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"depRule()","title":"Build Rules","text":"Defines dependency targets without providing execution script. useful want specify target depends another target don’t need execute command build . Parameters: target - Target file name depends depends depends - Character vector prerequisite file names task - Character vector parent task names Example:","code":"depRule(target, depends = NULL, task = \"all\") # Ensure all preprocessing is done before starting the analysis depRule(target = \"analysis-ready\",         depends = c(\"data1.rds\", \"data2.rds\", \"data3.rds\"))"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"subdirrule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"subdirRule()","title":"Build Rules","text":"Runs make process subdirectory. subdirectory assumed contain Makefile. rule executes make <targetTask> specified subdirectory. Parameters: target - Name subdirectory depends - Must NULL task - Character vector parent task names targetTask - task execute subdirectory (default: “”) Example:","code":"subdirRule(target, depends = NULL, task = \"all\", targetTask = \"all\") subdirRule(target = \"subproject\",            targetTask = \"all\")"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"offlinerule","dir":"Articles","previous_headings":"Pre-defined Rule Types","what":"offlineRule()","title":"Build Rules","text":"Forces manual action within build process. Shows custom error message instructing user perform task manually. useful transformation requires manual intervention. Parameters: target - Name file created manually message - Custom message display user depends - Vector prerequisite file names, NULL task - Character vector parent task names Example:","code":"offlineRule(target, message, depends = NULL, task = \"all\") offlineRule(target = \"cleaned_data.csv\",             message = \"Please manually clean data.csv and save as cleaned_data.csv\",             depends = \"data.csv\")"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"custom-rules","dir":"Articles","previous_headings":"","what":"Custom Rules","title":"Build Rules","text":"Create custom rules using general rule() function: Arguments: target - Target file names depends - Prerequisite file names build - Shell commands build targets clean - Shell commands clean targets task - Task assignment phony - Whether target non-file target (TRUE/FALSE) Predefined Make Variables: $(R) - Path Rscript binary $(RM) - File deletion command $(CP) - File copy command Example NodeJS: Define custom Make variables:","code":"rule(target, depends = NULL, build = NULL, clean = NULL,      task = \"all\", phony = FALSE) r <- rule(target = \"test.json\",            depends = \"test.js\",            build = \"node test.js\",           clean = \"$(RM) test.json\") defaultVars[\"JS\"] <- \"/usr/bin/node\"  job <- list(rule(target = \"test.json\",                  depends = \"test.js\",                  build = \"$(JS) test.js\",                  clean = \"$(RM) test.json\"))"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"using-inshell","dir":"Articles","previous_headings":"Custom Rules","what":"Using inShell()","title":"Build Rules","text":"inShell() function converts R expressions shell commands: Example rule using inShell(): Note: Overuse inShell() recommended. Prefer separate script files Make can detect changes.","code":"inShell({ result <- 1 + 1; saveRDS(result, \"result.rds\") }) #> [1] \"$(R) - <<'EOFrmake'\"                 \"{\"                                   #> [3] \"    result <- 1 + 1\"                 \"    saveRDS(result, \\\"result.rds\\\")\" #> [5] \"}\"                                   \"EOFrmake\" rule(target = \"result.rds\",      build = inShell({ result <- 1 + 1; saveRDS(result, \"result.rds\") }),      clean = \"$(RM) result.rds\")"},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Build Rules","text":"rmake provides comprehensive set rule types: rRule(): Execute R scripts markdownRule(): Render R Markdown documents knitrRule(): Process knitr/Sweave documents copyRule(): Copy files depRule(): Define dependencies without execution subdirRule(): Run make subdirectories offlineRule(): Require manual intervention rule(): Create custom rules shell commands","code":""},{"path":"https://beerda.github.io/rmake/articles/build-rules.html","id":"see-also","dir":"Articles","previous_headings":"","what":"See Also","title":"Build Rules","text":"information related topics, see vignettes: Getting Started rmake: Introduction basic usage rmake Project Management: Project initialization, running builds, cleaning Tasks Templates: Advanced features including tasks, parameterized execution, rule templates","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with rmake","text":"R mature scripting language statistical computations data processing. important advantage R allows writing repeatable statistical analyses programming steps data processing scripts, allows re-executing whole process change data processing steps. several useful packages R obtain repeatability statistical computations, knitr rmarkdown. tools allow writing R scripts generate reports combining text tables figures generated data. However, analyses grow complexity, manual re-execution whole process may become tedious, prone errors, demanding computationally. Complex analyses typically involve: Many pre-processing steps large datasets Repetitive execution commands differing parameters Production multiple output files various formats inefficient re-run pre-processing steps repeatedly refresh final report change. caching mechanism provided knitr helpful limited single report. Splitting complex analyses several parts saving intermediate results files rational, brings another challenge: management dependencies inputs, outputs, underlying scripts. Make comes . Make tool controls generation files source data script files reading dependencies Makefile comparing timestamps determine files need refreshed. rmake package provides tools easy generation Makefiles statistical data manipulation tasks R.","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"key-features","dir":"Articles","previous_headings":"","what":"Key Features","title":"Getting Started with rmake","text":"main features rmake : Use well-known Make tool Easy definitions file dependencies R language High flexibility parameterized execution programmatic rule generation Simple, short code thanks %>>% pipeline operator templating Support R scripts R markdown files Extensibility user-defined rule types Isolated parallel execution via Make’s parallel processing Support platforms: Unix (Linux), MacOS, Windows, Solaris Compatibility RStudio","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"why-use-rmake","dir":"Articles","previous_headings":"","what":"Why Use rmake?","title":"Getting Started with rmake","text":"R allows development repeatable statistical analyses. However, analyses grow complexity, manual re-execution change may become tedious error-prone. Make widely accepted tool managing generation resulting files source data script files. rmake makes easy generate Makefiles R analytical projects.","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with rmake","text":"install rmake CRAN: Alternatively, install development version GitHub: Load package:","code":"install.packages(\"rmake\") install.packages(\"devtools\") devtools::install_github(\"beerda/rmake\") library(rmake)"},{"path":[]},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"system-requirements","dir":"Articles","previous_headings":"Prerequisites","what":"System Requirements","title":"Getting Started with rmake","text":"R: Version 3.5.0 higher Linux/macOS: Usually pre-installed Windows: Install Rtools (includes make)","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"environment-variables","dir":"Articles","previous_headings":"Prerequisites","what":"Environment Variables","title":"Getting Started with rmake","text":"package requires R_HOME environment variable properly set. variable indicates directory R installed automatically set running within R RStudio.","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"when-is-r_home-needed","dir":"Articles","previous_headings":"Prerequisites > Environment Variables","what":"When is R_HOME needed?","title":"Getting Started with rmake","text":"running make command line (outside R), may need set R_HOME manually.","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"finding-r_home","dir":"Articles","previous_headings":"Prerequisites > Environment Variables","what":"Finding R_HOME","title":"Getting Started with rmake","text":"find correct value system, run R: can also check current values R environment variables:","code":"R.home() Sys.getenv(\"R_HOME\")"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"setting-r_home","dir":"Articles","previous_headings":"Prerequisites > Environment Variables","what":"Setting R_HOME","title":"Getting Started with rmake","text":"Linux/macOS: Windows (Command Prompt): Windows (PowerShell): permanent setup, add export commands shell configuration file (.bashrc, .zshrc, etc. Unix-like systems, system environment variables Windows). information R environment variables, see official R documentation.","code":"export R_HOME=/usr/lib/R  # Use the path from R.home() set R_HOME=C:\\Program Files\\R\\R-4.3.0 $env:R_HOME = \"C:\\Program Files\\R\\R-4.3.0\""},{"path":[]},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"creating-skeleton-files","dir":"Articles","previous_headings":"Project Initialization","what":"Creating Skeleton Files","title":"Getting Started with rmake","text":"start new project rmake: creates two files: - Makefile.R - R script generate Makefile - Makefile - generated Makefile (initially minimal) initial Makefile.R contains:","code":"library(rmake) rmakeSkeleton(\".\") library(rmake) job <- list() makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"basic-example","dir":"Articles","previous_headings":"","what":"Basic Example","title":"Getting Started with rmake","text":"Let’s walk simple example. Suppose : - data.csv - input data file - script.R - R script process data - Output: sums.csv - computed results","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"step-1-create-the-data-file","dir":"Articles","previous_headings":"Basic Example","what":"Step 1: Create the Data File","title":"Getting Started with rmake","text":"Create data.csv:","code":"ID,V1,V2 a,2,8 b,9,1 c,3,3"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"step-2-create-the-processing-script","dir":"Articles","previous_headings":"Basic Example","what":"Step 2: Create the Processing Script","title":"Getting Started with rmake","text":"Create script.R:","code":"d <- read.csv(\"data.csv\") sums <- data.frame(ID = \"sum\",                    V1 = sum(d$V1),                    V2 = sum(d$V2)) write.csv(sums, \"sums.csv\", row.names = FALSE)"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"step-3-define-the-build-rule","dir":"Articles","previous_headings":"Basic Example","what":"Step 3: Define the Build Rule","title":"Getting Started with rmake","text":"Edit Makefile.R:","code":"library(rmake) job <- list(rRule(target = \"sums.csv\",                    script = \"script.R\",                    depends = \"data.csv\")) makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"step-4-run-the-build","dir":"Articles","previous_headings":"Basic Example","what":"Step 4: Run the Build","title":"Getting Started with rmake","text":"Execute make: Make : 1. Regenerate Makefile (Makefile.R changed) 2. Execute script.R create sums.csv Subsequent calls make() nothing unless files change.","code":"make()"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"using-the-pipe-operator","dir":"Articles","previous_headings":"","what":"Using the Pipe Operator","title":"Getting Started with rmake","text":"%>>% pipe operator makes rule definitions readable: equivalent previous example concise.","code":"library(rmake) job <- \"data.csv\" %>>%    rRule(\"script.R\") %>>%    \"sums.csv\" makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"adding-a-markdown-report","dir":"Articles","previous_headings":"","what":"Adding a Markdown Report","title":"Getting Started with rmake","text":"Let’s extend example create PDF report. Create analysis.Rmd: Update Makefile.R: using pipes: Run make :","code":"--- title: \"Analysis\" output: pdf_document ---  # Sums of data rows  ```{r, echo=FALSE, results='asis'} sums <- read.csv('sums.csv') knitr::kable(sums) ``` library(rmake) job <- list(   rRule(target = \"sums.csv\", script = \"script.R\", depends = \"data.csv\"),   markdownRule(target = \"analysis.pdf\", script = \"analysis.Rmd\",                 depends = \"sums.csv\") ) makefile(job, \"Makefile\") library(rmake) job <- \"data.csv\" %>>%    rRule(\"script.R\") %>>%    \"sums.csv\" %>>%    markdownRule(\"analysis.Rmd\") %>>%    \"analysis.pdf\" makefile(job, \"Makefile\") make()"},{"path":[]},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"from-r","dir":"Articles","previous_headings":"Running Make","what":"From R","title":"Getting Started with rmake","text":"","code":"# Run all tasks make()  # Run specific task make(\"all\")  # Clean generated files make(\"clean\")  # Parallel execution (8 jobs) make(\"-j8\")"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"from-command-line","dir":"Articles","previous_headings":"Running Make","what":"From Command Line","title":"Getting Started with rmake","text":"","code":"make          # Run all tasks make clean    # Clean generated files make -j8      # Parallel execution"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"from-rstudio","dir":"Articles","previous_headings":"Running Make","what":"From RStudio","title":"Getting Started with rmake","text":"Go Build > Configure Build Tools Set Project build tools Makefile Use Build button","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"visualizing-dependencies","dir":"Articles","previous_headings":"","what":"Visualizing Dependencies","title":"Getting Started with rmake","text":"Visualize dependency graph: creates interactive graph showing: - Squares: Data files - Diamonds: Script files - Ovals: Rules - Arrows: Dependencies","code":"visualize(job, legend = FALSE)"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"multiple-dependencies","dir":"Articles","previous_headings":"","what":"Multiple Dependencies","title":"Getting Started with rmake","text":"Handle complex dependencies: Alternatively, can define chains directly without intermediate variables:","code":"chain1 <- \"data1.csv\" %>>% rRule(\"preprocess1.R\") %>>% \"intermed1.rds\" chain2 <- \"data2.csv\" %>>% rRule(\"preprocess2.R\") %>>% \"intermed2.rds\" chain3 <- c(\"intermed1.rds\", \"intermed2.rds\") %>>%    rRule(\"merge.R\") %>>% \"merged.rds\" %>>%    markdownRule(\"report.Rmd\") %>>% \"report.pdf\"  job <- c(chain1, chain2, chain3) job <- c(   \"data1.csv\" %>>% rRule(\"preprocess1.R\") %>>% \"intermed1.rds\",   \"data2.csv\" %>>% rRule(\"preprocess2.R\") %>>% \"intermed2.rds\",   c(\"intermed1.rds\", \"intermed2.rds\") %>>%      rRule(\"merge.R\") %>>% \"merged.rds\" %>>%      markdownRule(\"report.Rmd\") %>>% \"report.pdf\" )"},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"rule-types","dir":"Articles","previous_headings":"","what":"Rule Types","title":"Getting Started with rmake","text":"rmake provides several pre-defined rule types: rRule(): Execute R scripts markdownRule(): Render R Markdown documents knitrRule(): Process knitr documents copyRule(): Copy files offlineRule(): Manual tasks reminders detailed documentation rule types including depRule(), subdirRule(), custom rules, see Build Rules vignette.","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with rmake","text":"information specific topics, see vignettes: rmake Project Management: Learn project initialization, running builds, cleaning, parallel execution Build Rules: Comprehensive reference rule types (rRule, markdownRule, knitrRule, copyRule, depRule, subdirRule, offlineRule) Tasks Templates: Advanced features including tasks, parameterized execution, rule templates","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Getting Started with rmake","text":"Key takeaways: 1. Use rmakeSkeleton() initialize projects 2. Define rules Makefile.R 3. Use %>>% readable rule chains 4. Run make() execute build process 5. Use visualize() understand dependencies","code":""},{"path":"https://beerda.github.io/rmake/articles/getting-started.html","id":"resources","dir":"Articles","previous_headings":"","what":"Resources","title":"Getting Started with rmake","text":"Package documentation: ?rmake GitHub: https://github.com/beerda/rmake Issues: https://github.com/beerda/rmake/issues","code":""},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"rmake Project Management","text":"vignette covers essential aspects managing rmake project, including project initialization, running build process, cleaning generated files, executing builds parallel. introduction rmake concepts basic usage, see Getting Started rmake vignette. detailed information rule types, see Build Rules vignette. advanced features like tasks templates, see Tasks Templates vignette.","code":""},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"project-initialization","dir":"Articles","previous_headings":"","what":"Project Initialization","title":"rmake Project Management","text":"start maintaining R project rmake, create script Makefile.R generates Makefile. Start skeleton: creates two files: - Makefile.R - R script rule definitions - Makefile - Generated Makefile Initial Makefile.R:","code":"library(rmake) rmakeSkeleton(\".\") library(rmake) job <- list() makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"running-the-build-process","dir":"Articles","previous_headings":"","what":"Running the Build Process","title":"rmake Project Management","text":"Execute make within R: shell: RStudio: 1. Build > Configure Build Tools 2. Set Project build tools Makefile 3. Use Build command","code":"make() make"},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"cleaning-up","dir":"Articles","previous_headings":"","what":"Cleaning Up","title":"rmake Project Management","text":"Delete generated files: rule automatically adds commands delete target files. Makefile never deleted.","code":"make(\"clean\")"},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"parallel-execution","dir":"Articles","previous_headings":"","what":"Parallel Execution","title":"rmake Project Management","text":"GNU Make supports parallel execution -j option: shell:","code":"make(\"-j8\")  # Run up to 8 tasks simultaneously make -j8"},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"rmake Project Management","text":"vignette covered basics managing rmake project: Project Initialization: Use rmakeSkeleton() create initial project files Running Builds: Execute make() R make shell, use RStudio’s build tools Cleaning : Use make(\"clean\") remove generated files Parallel Execution: Use make(\"-j8\") run multiple targets simultaneously","code":""},{"path":"https://beerda.github.io/rmake/articles/project-management.html","id":"see-also","dir":"Articles","previous_headings":"","what":"See Also","title":"rmake Project Management","text":"information related topics, see vignettes: Getting Started rmake: Introduction, basic usage, pipe operator Build Rules: Comprehensive reference rule types Tasks Templates: Advanced features including tasks, parameterized execution, rule templates","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Tasks and Templates","text":"vignette covers advanced features rmake help manage complex build processes: tasks organizing selectively executing groups rules, templates efficiently generating multiple similar rules parameterization. basic usage introduction rmake, see Getting Started rmake vignette. information specific rule types, see Build Rules vignette. project management basics, see rmake Project Management vignette.","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"tasks","dir":"Articles","previous_headings":"","what":"Tasks","title":"Tasks and Templates","text":"Tasks allow grouping rules can executed together. rule member \"\" task default. Rules can belong multiple tasks.","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"executing-tasks","dir":"Articles","previous_headings":"Tasks","what":"Executing Tasks","title":"Tasks and Templates","text":"Execute task:","code":"make('all') make('preview')"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"assigning-rules-to-tasks","dir":"Articles","previous_headings":"Tasks","what":"Assigning Rules to Tasks","title":"Tasks and Templates","text":"Assign rules tasks: Running make(\"preview\") creates data.rds preview.pdf final.pdf.","code":"library(rmake) job <- c(   \"data.csv\" %>>% rRule(\"preprocess.R\") %>>% \"data.rds\",   \"data.rds\" %>>% markdownRule(\"preview.Rmd\", task = \"preview\") %>>%      \"preview.pdf\",   \"data.rds\" %>>% markdownRule(\"final.Rmd\", task = \"final\") %>>%      \"final.pdf\" ) makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"use-cases-for-tasks","dir":"Articles","previous_headings":"Tasks","what":"Use Cases for Tasks","title":"Tasks and Templates","text":"Tasks useful : Incremental development: Create “preview” task quick iterations “final” task complete analysis Different outputs: Separate tasks different report formats audiences Testing: Create “test” task runs sample data processing full dataset","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"parameterized-execution","dir":"Articles","previous_headings":"","what":"Parameterized Execution","title":"Tasks and Templates","text":"Pass parameters scripts via params argument:","code":"library(rmake) job <- c(   \"data.csv\" %>>% rRule(\"fit.R\", params = list(alpha = 0.1)) %>>% \"out-0.1.rds\",   \"data.csv\" %>>% rRule(\"fit.R\", params = list(alpha = 0.2)) %>>% \"out-0.2.rds\",   \"data.csv\" %>>% rRule(\"fit.R\", params = list(alpha = 0.3)) %>>% \"out-0.3.rds\" ) makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"accessing-parameters-in-scripts","dir":"Articles","previous_headings":"Parameterized Execution","what":"Accessing Parameters in Scripts","title":"Tasks and Templates","text":"Parameters available scripts params global variable:","code":"# fit.R str(params) # List of 5 #  $ .target : chr \"out-0.1.rds\" #  $ .script : chr \"fit.R\" #  $ .depends: chr \"data.csv\" #  $ .task   : chr \"all\" #  $ alpha   : num 0.1"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"using-getparam","dir":"Articles","previous_headings":"Parameterized Execution","what":"Using getParam()","title":"Tasks and Templates","text":"Use getParam() access parameters safely: getParam() default values:","code":"# fit.R library(rmake)  dataName <- getParam(\".depends\") resultName <- getParam(\".target\") alpha <- getParam(\"alpha\")  # Use parameters... cat(\"Processing with alpha =\", alpha, \"\\n\") dataName <- getParam(\".depends\", \"data.csv\") resultName <- getParam(\".target\", \"result.rds\") alpha <- getParam(\"alpha\", 0.2)"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"built-in-parameters","dir":"Articles","previous_headings":"Parameterized Execution","what":"Built-in Parameters","title":"Tasks and Templates","text":"Every rule automatically following parameters available: .target - target file(s) created .script - script executed .depends - dependency file(s) .task - task name(s)","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"rule-templates","dir":"Articles","previous_headings":"","what":"Rule Templates","title":"Tasks and Templates","text":"Rule templates avoid repetitive rule definitions using expandTemplate(). particularly useful need run analysis different parameters different datasets.","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"simple-template","dir":"Articles","previous_headings":"Rule Templates","what":"Simple Template","title":"Tasks and Templates","text":"creates 99 rules, one value NUM.","code":"tmpl <- \"data-$[NUM].csv\" %>>%    rRule(\"process.R\") %>>%    \"result-$[NUM].csv\" variants <- data.frame(NUM = 1:99) job <- expandTemplate(tmpl, variants)"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"template-with-multiple-variables","dir":"Articles","previous_headings":"Rule Templates","what":"Template with Multiple Variables","title":"Tasks and Templates","text":"","code":"variants <- expand.grid(DATA = c(\"dataSimple\", \"dataComplex\"),                         TYPE = c(\"lm\", \"rf\", \"nnet\")) print(variants) #>          DATA TYPE #> 1  dataSimple   lm #> 2 dataComplex   lm #> 3  dataSimple   rf #> 4 dataComplex   rf #> 5  dataSimple nnet #> 6 dataComplex nnet  tmpl <- \"$[DATA].csv\" %>>%    rRule(\"fit-$[TYPE].R\") %>>%   \"result-$[DATA]_$[TYPE].csv\" job <- expandTemplate(tmpl, variants) print(job) #> [[1]] #> (fit-lm.R, dataSimple.csv) -> R -> (result-dataSimple_lm.csv) #> [[2]] #> (fit-lm.R, dataComplex.csv) -> R -> (result-dataComplex_lm.csv) #> [[3]] #> (fit-rf.R, dataSimple.csv) -> R -> (result-dataSimple_rf.csv) #> [[4]] #> (fit-rf.R, dataComplex.csv) -> R -> (result-dataComplex_rf.csv) #> [[5]] #> (fit-nnet.R, dataSimple.csv) -> R -> (result-dataSimple_nnet.csv) #> [[6]] #> (fit-nnet.R, dataComplex.csv) -> R -> (result-dataComplex_nnet.csv)"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"combining-templates-with-parameters","dir":"Articles","previous_headings":"Rule Templates","what":"Combining Templates with Parameters","title":"Tasks and Templates","text":"Duplicate rules automatically removed:","code":"tmpl <- \"data.csv\" %>>%   rRule(\"pre.R\") %>>% \"pre.rds\" %>>%   rRule(\"comp.R\", params = list(alpha = \"$[NUM]\")) %>>%    \"result-$[NUM].csv\" variants <- data.frame(NUM = 1:5) job <- expandTemplate(tmpl, variants) #> Warning in expandTemplate(tmpl, variants): Converting all values in `vars` to #> character vectors. print(job) #> [[1]] #> (pre.R, data.csv) -> R -> (pre.rds) #> [[2]] #> (comp.R, pre.rds) -> R -> (result-1.csv) #> [[3]] #> (comp.R, pre.rds) -> R -> (result-2.csv) #> [[4]] #> (comp.R, pre.rds) -> R -> (result-3.csv) #> [[5]] #> (comp.R, pre.rds) -> R -> (result-4.csv) #> [[6]] #> (comp.R, pre.rds) -> R -> (result-5.csv)"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"template-variables-in-parameters","dir":"Articles","previous_headings":"Rule Templates","what":"Template Variables in Parameters","title":"Tasks and Templates","text":"Template variables (like $[NUM]) can used : - File names (targets dependencies) - Script names - Parameters passed rules","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"common-pitfall-multiple-rules-for-same-target","dir":"Articles","previous_headings":"Rule Templates","what":"Common Pitfall: Multiple Rules for Same Target","title":"Tasks and Templates","text":"Warning: Different rules producing target cause error:","code":"tmpl <- \"data-$[TYPE].csv\" %>>%    markdownRule(\"report.Rmd\") %>>% \"report.pdf\" variants <- data.frame(TYPE = c(\"a\", \"b\", \"c\")) job <- expandTemplate(tmpl, variants) print(job) #> [[1]] #> (report.Rmd, data-a.csv) -> markdown -> (report.pdf) #> [[2]] #> (report.Rmd, data-b.csv) -> markdown -> (report.pdf) #> [[3]] #> (report.Rmd, data-c.csv) -> markdown -> (report.pdf)  # This would error: # makefile(job) # Error: Multiple rules detected for the same target"},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"combining-tasks-and-templates","dir":"Articles","previous_headings":"","what":"Combining Tasks and Templates","title":"Tasks and Templates","text":"can combine tasks templates powerful workflow management:","code":"# Create template for different models tmpl <- \"data.csv\" %>>%    rRule(\"fit-$[MODEL].R\", params = list(model = \"$[MODEL]\")) %>>%   \"model-$[MODEL].rds\"  # Expand for different models variants <- data.frame(MODEL = c(\"linear\", \"rf\", \"xgboost\")) training_job <- expandTemplate(tmpl, variants)  # Add evaluation tasks eval_job <- c(   c(\"model-linear.rds\", \"model-rf.rds\", \"model-xgboost.rds\") %>>%     rRule(\"evaluate.R\") %>>% \"evaluation.rds\",   \"evaluation.rds\" %>>%      markdownRule(\"report.Rmd\", task = \"report\") %>>% \"report.pdf\" )  # Combine all rules job <- c(training_job, eval_job) makefile(job, \"Makefile\")"},{"path":[]},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"for-tasks","dir":"Articles","previous_headings":"Best Practices","what":"For Tasks","title":"Tasks and Templates","text":"Use meaningful names: Choose task names clearly describe purpose Keep “” minimal: include essential outputs default “” task Create incremental tasks: Build complexity tasks like “quick”, “full”, “validate”","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"for-templates","dir":"Articles","previous_headings":"Best Practices","what":"For Templates","title":"Tasks and Templates","text":"Use data frames variants: makes easy generate combinations expand.grid() Test small variants first: generating hundreds rules, test 2-3 variants Use consistent naming: Develop naming convention template variables Document templates: Add comments explaining template generates","code":""},{"path":"https://beerda.github.io/rmake/articles/tasks-and-templates.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Tasks and Templates","text":"vignette covered: Tasks: Organizing rules groups can executed selectively Parameterized Execution: Passing parameters scripts flexible processing Rule Templates: Efficiently generating multiple similar rules Combining Features: Using tasks templates together complex workflows information basic usage rule types, see vignettes: - Getting Started rmake - rmake Project Management - Build Rules","code":""},{"path":"https://beerda.github.io/rmake/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michal Burda. Author, maintainer.","code":""},{"path":"https://beerda.github.io/rmake/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Burda M (2025). rmake: Makefile Generator R Analytical Projects. R package version 1.2.2, https://github.com/beerda/rmake.","code":"@Manual{,   title = {rmake: Makefile Generator for R Analytical Projects},   author = {Michal Burda},   year = {2025},   note = {R package version 1.2.2},   url = {https://github.com/beerda/rmake}, }"},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"project-overview","dir":"","previous_headings":"","what":"Project Overview","title":"Copilot Instructions for rmake","text":"rmake R package providing Makefile generator R analytical projects. creates maintains build process complex analytic tasks generating Makefiles drive build process GNU Make tool.","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"repository-structure","dir":"","previous_headings":"","what":"Repository Structure","title":"Copilot Instructions for rmake","text":"R/ - R source code roxygen2 documentation tests/testthat/ - Unit tests using testthat framework man/ - Generated documentation (auto-generated, edit manually) vignettes/ - Package vignettes (Rnw Rmd formats) .github/workflows/ - CI/CD workflows R CMD check pkgdown","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"prerequisites","dir":"","previous_headings":"Development Setup","what":"Prerequisites","title":"Copilot Instructions for rmake","text":"R >= 3.5.0 GNU Make tool Required R packages: tools, assertthat, rmarkdown, visNetwork, knitr Suggested R packages: testthat","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"building-and-testing","dir":"","previous_headings":"Development Setup","what":"Building and Testing","title":"Copilot Instructions for rmake","text":"","code":"# Install dependencies install.packages(c(\"devtools\", \"roxygen2\", \"testthat\")) devtools::install_deps(dependencies = TRUE)  # Build documentation devtools::document()  # Run tests devtools::test()  # Run R CMD check devtools::check()  # Build package devtools::build()"},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"r-code","dir":"","previous_headings":"Coding Standards","what":"R Code","title":"Copilot Instructions for rmake","text":"@title description @param parameters @return return values @seealso references related functions @examples working examples @export exported functions Functions: camelCase user-facing functions (e.g., rRule(), markdownRule(), rmakeSkeleton()) Internal functions: camelCase leading dot (e.g., .processRule()) Variables: camelCase snake_case consistently within file Use assertthat package input validation Use stop() warning() informative messages Validate rule parameters thoroughly Use existing code style package Indent 2 spaces Use <- assignment Follow existing patterns rule definitions","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"rule-system","dir":"","previous_headings":"Coding Standards","what":"Rule System","title":"Copilot Instructions for rmake","text":"rules inherit rmake.rule S3 class Rules must : target, depends, build, clean, task, phony attributes Use rule() function base constructor Pre-defined rule types: rRule(), markdownRule(), knitrRule(), copyRule(), offlineRule(), etc. rule function validate inputs construct appropriate shell commands Rules support pipe operator %>>% makefile() function generates Makefile list rules Uses platform-specific commands (Windows vs Unix) Supports parallel execution Make’s -j option","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"testing","dir":"","previous_headings":"Coding Standards","what":"Testing","title":"Copilot Instructions for rmake","text":"Use testthat framework Test files tests/testthat/ test-*.R naming Group related tests test_that() blocks Test exported functions Test edge cases error conditions Test rule generation Makefile creation Descriptive test names explaining tested Example: test_that(\"rRule creates correct dependencies\", { ... })","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"r-package-dependencies","dir":"","previous_headings":"Dependencies","what":"R Package Dependencies","title":"Copilot Instructions for rmake","text":"Runtime: tools, assertthat, rmarkdown, visNetwork, knitr Suggests: testthat","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"adding-dependencies","dir":"","previous_headings":"Dependencies","what":"Adding Dependencies","title":"Copilot Instructions for rmake","text":"Add appropriate field DESCRIPTION (Imports, Suggests) Use usethis::use_package() helper functions Document dependency needed Minimize new dependencies","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"pipe-operator-","dir":"","previous_headings":"Key Design Patterns","what":"Pipe Operator (%>>%)","title":"Copilot Instructions for rmake","text":"Central rmake’s API Allows chaining: input %>>% rule(script) %>>% output Automatically extracts depends target chain Implemented R/pipe.R","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"rule-templates","dir":"","previous_headings":"Key Design Patterns","what":"Rule Templates","title":"Copilot Instructions for rmake","text":"expandTemplate() function parameterized rule generation Supports template variables like $[VAR] Useful creating multiple similar rules","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"parameterized-rules","dir":"","previous_headings":"Key Design Patterns","what":"Parameterized Rules","title":"Copilot Instructions for rmake","text":"Rules can receive params list Parameters available params global variable scripts Use getParam() function access parameters safely","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"shell-commands","dir":"","previous_headings":"Makefile Generation","what":"Shell Commands","title":"Copilot Instructions for rmake","text":"Platform-specific: Windows uses del, Unix uses rm Use Make variables: $(R) Rscript, $(RM) file removal inShell() function converts R expressions shell commands","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"build-process","dir":"","previous_headings":"Makefile Generation","what":"Build Process","title":"Copilot Instructions for rmake","text":"User creates Makefile.R rule definitions makefile() generates Makefile rules make() executes Make tool Make checks timestamps executes necessary rules","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Copilot Instructions for rmake","text":"Use roxygen2 documentation Run devtools::document() regenerate man/*.Rd files Vignettes vignettes/*.Rnw vignettes/*.Rmd Package website built pkgdown","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"adding-a-new-rule-type","dir":"","previous_headings":"Common Tasks","what":"Adding a New Rule Type","title":"Copilot Instructions for rmake","text":"Create function appropriate R/*.R file Add roxygen2 documentation examples Accept target, script, depends, params, task arguments Validate inputs assertthat Construct build/clean commands Call rule() appropriate arguments Export @export Add tests tests/testthat/ Run devtools::document(), devtools::test(), devtools::check()","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"modifying-makefile-generation","dir":"","previous_headings":"Common Tasks","what":"Modifying Makefile Generation","title":"Copilot Instructions for rmake","text":"Edit R/makefile.R Update .makefileRules() related functions Test Windows Unix platforms Ensure backward compatibility","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"fixing-a-bug","dir":"","previous_headings":"Common Tasks","what":"Fixing a Bug","title":"Copilot Instructions for rmake","text":"Add failing test reproduces bug Fix code Verify test passes Run full test suite: devtools::test() Run R CMD check: devtools::check()","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"best-practices","dir":"","previous_headings":"","what":"Best Practices","title":"Copilot Instructions for rmake","text":"Never edit generated files: NAMESPACE, man/*.Rd, Makefile Always run tests: Use devtools::test() frequently Check package: Run devtools::check() committing Document code: Add roxygen2 comments immediately Follow existing patterns: Study similar functions implementing new features Platform compatibility: Test Windows Unix making platform-specific changes Maintain backward compatibility: Changes break existing user code","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"vignettes","dir":"","previous_headings":"","what":"Vignettes","title":"Copilot Instructions for rmake","text":"Main vignette: vignettes/rmake-intro.Rnw (LaTeX/Sweave format) Additional Rmd vignettes specific topics Keep formats: Rnw JSS-style article, Rmd pkgdown","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"cicd-workflows","dir":"","previous_headings":"","what":"CI/CD Workflows","title":"Copilot Instructions for rmake","text":"R-CMD-check: Runs push/PR main/master, tests multiple OS R versions pkgdown: Builds deploys documentation site GitHub Pages","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"release-process","dir":"","previous_headings":"","what":"Release Process","title":"Copilot Instructions for rmake","text":"Update version DESCRIPTION Update NEWS.md Run devtools::check() Run rhub checks CRAN Submit CRAN devtools::release()","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting Help","title":"Copilot Instructions for rmake","text":"Package documentation: ?rmake Vignettes: browseVignettes(\"rmake\") GitHub issues: https://github.com/beerda/rmake/issues","code":""},{"path":"https://beerda.github.io/rmake/copilot-instructions.html","id":"author-and-maintainer","dir":"","previous_headings":"","what":"Author and Maintainer","title":"Copilot Instructions for rmake","text":"Michal Burda Institute Research Applications Fuzzy Modeling Centre Excellence IT4Innovations, Division University Ostrava Email: michal.burda@osu.cz","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"rmake","dir":"","previous_headings":"","what":"Makefile Generator for R Analytical Projects","title":"Makefile Generator for R Analytical Projects","text":"rmake R package creates maintains build process complex analytic tasks. package allows easy generation Makefile (GNU) ‘make’ tool, drives build process executing build commands (parallel) update results according given dependencies changed data updated source files.","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"why-use-rmake","dir":"","previous_headings":"","what":"Why Use rmake?","title":"Makefile Generator for R Analytical Projects","text":"R allows development repeatable statistical analyses, analyses grow complexity, manual re-execution change may become tedious error-prone. Make widely accepted tool managing generation resulting files source data script files. rmake makes easy generate Makefiles R analytical projects.","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"key-features","dir":"","previous_headings":"","what":"Key Features","title":"Makefile Generator for R Analytical Projects","text":"Integration Make: Uses well-known Make tool dependency management Easy Definitions: Define file dependencies using R syntax High Flexibility: Parameterized execution R scripts programmatically generated dependencies Pipeline Operator: Simple short code thanks special %>>% operator Multiple Rule Types: Support R scripts, R markdown files, custom rules Extensibility: Easy define custom rule types Parallel Execution: Leverage Make’s parallel processing features Cross-platform: Support Unix (Linux), MacOS, MS Windows, Solaris RStudio Compatible: Works seamlessly RStudio’s build system","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Makefile Generator for R Analytical Projects","text":"install stable version rmake CRAN, type following command within R session: Alternatively, can install latest development version GitHub using devtools package:","code":"install.packages(\"rmake\") install.packages(\"devtools\") devtools::install_github(\"beerda/rmake\")"},{"path":[]},{"path":"https://beerda.github.io/rmake/index.html","id":"setup","dir":"","previous_headings":"Quick Start","what":"Setup","title":"Makefile Generator for R Analytical Projects","text":"package requires R_HOME environment variable properly set. variable indicates directory R installed. running within R RStudio, automatically set action needed. running make command line, may need set manually:","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"finding-r_home","dir":"","previous_headings":"Quick Start > Setup","what":"Finding R_HOME","title":"Makefile Generator for R Analytical Projects","text":"find correct value system, run R:","code":"R.home()"},{"path":"https://beerda.github.io/rmake/index.html","id":"setting-r_home","dir":"","previous_headings":"Quick Start > Setup","what":"Setting R_HOME","title":"Makefile Generator for R Analytical Projects","text":"Linux/macOS: Windows (Command Prompt): Windows (PowerShell): permanent setup, add shell configuration file (.bashrc, .zshrc, etc. Unix-like systems). information R environment variables, see official R documentation.","code":"export R_HOME=/usr/lib/R  # Use the path from R.home() set R_HOME=C:\\Program Files\\R\\R-4.3.0  # Use the path from R.home() $env:R_HOME = \"C:\\Program Files\\R\\R-4.3.0\"  # Use the path from R.home()"},{"path":"https://beerda.github.io/rmake/index.html","id":"basic-example","dir":"","previous_headings":"Quick Start","what":"Basic Example","title":"Makefile Generator for R Analytical Projects","text":"Suppose file dataset.csv. want pre-process store results dataset.rds using preprocess.R R script. , dataset.rds input file report.Rmd details.Rmd, R-Markdown scripts generate report.pdf details.pdf. whole project can initialized rmake follows: Let us assume rmake package well make tool properly installed. Create new directory (R studio project) copy dataset.csv . Load rmake create skeleton files: Makefile.R Makefile created. Create files preprocess.R, report.Rmd details.Rmd. Edit Makefile.R follows: create three build rules: one processing preprocess.R two executing report.Rmd details.Rmd generate resulting PDF files. Run make() build project R Studio (Build/Build ). automatically re-generate Makefile execute preprocess.R generation report.Rmd details.Rmd according changes made source files.","code":"library(rmake) rmakeSkeleton('.') library(rmake) job <- c('dataset.csv' %>>% rRule('preprocess.R') %>>% 'dataset.rds' %>>%             markdownRule('report.Rmd') %>>% 'report.pdf',          'dataset.rds' %>>% markdownRule('details.Rmd') %>>% 'details.pdf') makefile(job, 'Makefile')"},{"path":"https://beerda.github.io/rmake/index.html","id":"the-pipe-operator","dir":"","previous_headings":"","what":"The Pipe Operator","title":"Makefile Generator for R Analytical Projects","text":"%>>% pipe operator makes easy define chains dependencies:","code":"library(rmake)  # Simple chain job <- \"data.csv\" %>>%    rRule(\"script.R\") %>>%    \"sums.csv\" %>>%    markdownRule(\"analysis.Rmd\") %>>%    \"analysis.pdf\"  # Complex dependencies chain1 <- \"data1.csv\" %>>% rRule(\"preprocess1.R\") %>>% \"intermed1.rds\" chain2 <- \"data2.csv\" %>>% rRule(\"preprocess2.R\") %>>% \"intermed2.rds\" chain3 <- c(\"intermed1.rds\", \"intermed2.rds\") %>>%    rRule(\"merge.R\") %>>% \"merged.rds\" %>>%    markdownRule(\"report.Rmd\") %>>% \"report.pdf\"  job <- c(chain1, chain2, chain3) makefile(job, \"Makefile\")"},{"path":"https://beerda.github.io/rmake/index.html","id":"visualization","dir":"","previous_headings":"","what":"Visualization","title":"Makefile Generator for R Analytical Projects","text":"Visualize build dependencies:","code":"visualize(job, legend = FALSE)"},{"path":"https://beerda.github.io/rmake/index.html","id":"parallel-execution","dir":"","previous_headings":"","what":"Parallel Execution","title":"Makefile Generator for R Analytical Projects","text":"Run multiple targets parallel using Make’s -j option:","code":"make(\"-j8\")  # Run up to 8 targets simultaneously"},{"path":"https://beerda.github.io/rmake/index.html","id":"advanced-features","dir":"","previous_headings":"","what":"Advanced Features","title":"Makefile Generator for R Analytical Projects","text":"Tasks: Group rules together execute selectively Parameterized Execution: Pass parameters scripts flexible processing Rule Templates: Use templates generate multiple similar rules efficiently Custom Rules: Define rule types specialized tasks","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting Help","title":"Makefile Generator for R Analytical Projects","text":"detailed information, see package vignettes: Introduction rmake: Comprehensive guide covering features Getting Started: Quick tutorial beginners","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Makefile Generator for R Analytical Projects","text":"Contributions, suggestions, bug reports welcome. Please submit issues GitHub.","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Makefile Generator for R Analytical Projects","text":"GPL (>= 3.0)","code":""},{"path":"https://beerda.github.io/rmake/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"Makefile Generator for R Analytical Projects","text":"Michal Burda Institute Research Applications Fuzzy Modeling Centre Excellence IT4Innovations, Division University Ostrava Email: michal.burda@osu.cz","code":""},{"path":"https://beerda.github.io/rmake/reference/copyRule.html","id":null,"dir":"Reference","previous_headings":"","what":"Rule for copying a file to a new location — copyRule","title":"Rule for copying a file to a new location — copyRule","text":"rule copies file one location another. rule executes following command: $(CP) depends[1] target","code":""},{"path":"https://beerda.github.io/rmake/reference/copyRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rule for copying a file to a new location — copyRule","text":"","code":"copyRule(target, depends, task = \"all\")"},{"path":"https://beerda.github.io/rmake/reference/copyRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rule for copying a file to a new location — copyRule","text":"target Target file name copy file depends Name file copy (first element vector used) task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule.","code":""},{"path":"https://beerda.github.io/rmake/reference/copyRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rule for copying a file to a new location — copyRule","text":"Instance S3 class rmake.rule","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/copyRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rule for copying a file to a new location — copyRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/defaultVars.html","id":null,"dir":"Reference","previous_headings":"","what":"Variables used within the Makefile generating process — defaultVars","title":"Variables used within the Makefile generating process — defaultVars","text":"defaultVars reserved variable, named vector defines Makefile variables, .e., shell variables exist execution Makefile rules. content variable written resulting Makefile execution makefile() function.","code":""},{"path":"https://beerda.github.io/rmake/reference/defaultVars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variables used within the Makefile generating process — defaultVars","text":"","code":"defaultVars"},{"path":"https://beerda.github.io/rmake/reference/defaultVars.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Variables used within the Makefile generating process — defaultVars","text":"object class character length 4.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/defaultVars.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Variables used within the Makefile generating process — defaultVars","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/depRule.html","id":null,"dir":"Reference","previous_headings":"","what":"A rule that defines a dependency between targets without actually providing any execution script. — depRule","title":"A rule that defines a dependency between targets without actually providing any execution script. — depRule","text":"rule useful want specify target depends another target want execute script build .","code":""},{"path":"https://beerda.github.io/rmake/reference/depRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A rule that defines a dependency between targets without actually providing any execution script. — depRule","text":"","code":"depRule(target, depends = NULL, task = \"all\")"},{"path":"https://beerda.github.io/rmake/reference/depRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A rule that defines a dependency between targets without actually providing any execution script. — depRule","text":"target Target file name depends depends depends character vector prerequisite file names target depends . task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule.","code":""},{"path":"https://beerda.github.io/rmake/reference/depRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A rule that defines a dependency between targets without actually providing any execution script. — depRule","text":"Instance S3 class rmake.rule","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/depRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"A rule that defines a dependency between targets without actually providing any execution script. — depRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"functionality expandTemplate() differs according type first argument. first argument template job (.e., list template rules) template rule, job created templates replacing rmake variables templates values variables, specified second argument. rmake variable part string format $[VARIABLE_NAME].","code":""},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"","code":"expandTemplate(template, vars)"},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"template instance S3 rmake.rule class, list objects, character vector. vars named character vector, matrix, data frame variable definitions. character vector, names variable names, values variable values. matrix data frame, colnames variable names column values variable values.","code":""},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"template instance S3 rmake.rule class, list objects, list rules created template replacing rmake variables returned. template character vector character vector variants rmake values returned.","code":""},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"vars character vector, variables vars replaced template result contain length(template) rules. vars data frame character matrix, replacement variables performed row-wise. , new sequence rules created template row variables vars, result contain nrow(vars) * length(template) rules. first argument expandTemplate() character vector, result character vector created row-wise replacements rmake variables, similarly case template jobs. See examples.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/expandTemplate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Expand template rules into a list of rules by replacing rmake variables with their values — expandTemplate","text":"","code":"# Examples with template jobs and rules:  tmpl <- rRule('data-$[VERSION].csv', 'process-$[TYPE].R', 'output-$[VERSION]-$[TYPE].csv')  job <- expandTemplate(tmpl, c(VERSION='small', TYPE='a')) # is equivalent to job <- list(rRule('data-small.csv', 'process-a.R', 'output-small-a.csv'))  job <- expandTemplate(tmpl, expand.grid(VERSION=c('small', 'big'), TYPE=c('a', 'b', 'c'))) # is equivalent to job <- list(rRule('data-small.csv', 'process-a.R', 'output-small-a.csv'),             rRule('data-big.csv', 'process-a.R', 'output-big-a.csv'),             rRule('data-small.csv', 'process-b.R', 'output-small-b.csv'),             rRule('data-big.csv', 'process-b.R', 'output-big-b.csv'),             rRule('data-small.csv', 'process-c.R', 'output-small-c.csv'),             rRule('data-big.csv', 'process-c.R', 'output-big-c.csv'))   # Examples with template character vectors: expandTemplate('data-$[MAJOR].$[MINOR].csv',                c(MAJOR=3, MINOR=1)) #> [1] \"data-3.1.csv\" # returns: c('data-3.1.csv')  expandTemplate('data-$[MAJOR].$[MINOR].csv',                expand.grid(MAJOR=c(3:4), MINOR=c(0:2))) #> Warning: Converting all values in `vars` to character vectors. #> [1] \"data-3.0.csv\" \"data-4.0.csv\" \"data-3.1.csv\" \"data-4.1.csv\" \"data-3.2.csv\" #> [6] \"data-4.2.csv\" # returns: c('data-3.0.csv', 'data-4.0.csv', #            'data-3.1.csv', 'data-4.1.csv', #            'data-3.2.csv', 'data-4.2.csv')"},{"path":"https://beerda.github.io/rmake/reference/getParam.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper around the params global variable — getParam","title":"Wrapper around the params global variable — getParam","text":"Returns element global params variable normally used send parameters script Makefile generated rmake. Script parameters may defined params argument rRule() markdownRule() functions.","code":""},{"path":"https://beerda.github.io/rmake/reference/getParam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper around the params global variable — getParam","text":"","code":"getParam(name, default = NA)"},{"path":"https://beerda.github.io/rmake/reference/getParam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper around the params global variable — getParam","text":"name Name parameter default Default value returned params global variable exist, typically occurs script executed outside Makefile.","code":""},{"path":"https://beerda.github.io/rmake/reference/getParam.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper around the params global variable — getParam","text":"function returns element given name params variable created inside Makefile recipe. params global variable exist (script likely executed directly, .e., Makefile generated rmake), default value returned warning generated. params global variable exists list name element exist , error thrown.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/getParam.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wrapper around the params global variable — getParam","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/getParam.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper around the params global variable — getParam","text":"","code":"task <- getParam('task', 'default') #> Warning: rmake parameters not found - using default value for \"task\": default"},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":null,"dir":"Reference","previous_headings":"","what":"A pipe operator for rmake rules — %>>%","title":"A pipe operator for rmake rules — %>>%","text":"pipe operator simplifies definition multiple rmake rules constitute chain, , first rule depends results second rule, depends results third rule .","code":""},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A pipe operator for rmake rules — %>>%","text":"","code":"lhs %>>% rhs"},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A pipe operator for rmake rules — %>>%","text":"lhs dependency file name call function creates rmake.rule. rhs target file call function creates rmake.rule.","code":""},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A pipe operator for rmake rules — %>>%","text":"list instances rmake.rule class.","code":""},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"A pipe operator for rmake rules — %>>%","text":"format proper usage follows: 'inFile' %>>% rule() %>>% 'outFile', equivalent call rule(depends='inFile', target='outFile'). rule must function accepts named parameters depends target creates rmake.rule object (see rule(), rRule(), markdownRule(), etc.). inFile outFile file names. Multiple rules may pipe-lined follows: 'inFile' %>>% rRule('script1.R') %>>% 'medFile' %>>% rRule('script2.R') %>>% 'outFile', equivalent job two rules created : rRule(script='script1.R', depends='inFile', target='medFile') rRule(script='script2.R', depends='medFile', target='outFile').","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"A pipe operator for rmake rules — %>>%","text":"Michal Burda (%>>% operator derived code magrittr package Stefan Milton Bache Hadley Wickham)","code":""},{"path":"https://beerda.github.io/rmake/reference/grapes-greater-than-greater-than-grapes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"A pipe operator for rmake rules — %>>%","text":"","code":"job1 <- 'data.csv' %>>%   rRule('preprocess.R') %>>%   'data.rds' %>>%   markdownRule('report.rnw') %>>%   'report.pdf'  # is equivalent to  job2 <- list(rRule(target='data.rds', script='preprocess.R', depends='data.csv'),              markdownRule(target='report.pdf', script='report.rnw', depends='data.rds'))"},{"path":"https://beerda.github.io/rmake/reference/inShell.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","title":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","text":"function takes R commands, deparses , substitutes existing variables, converts everything character strings, shell command created sends given R code R interpreter. function used internally print commands R rules Makefile.","code":""},{"path":"https://beerda.github.io/rmake/reference/inShell.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","text":"","code":"inShell(...)"},{"path":"https://beerda.github.io/rmake/reference/inShell.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","text":"... R commands converted","code":""},{"path":"https://beerda.github.io/rmake/reference/inShell.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","text":"character vector shell commands send given R code pipe R interpreter","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/inShell.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/inShell.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert R code to a character vector of shell commands evaluating the given R code. — inShell","text":"","code":"inShell({   x <- 1   y <- 2   print(x+y) }) #> [1] \"$(R) - <<'EOFrmake'\" \"{\"                   \"    x <- 1\"          #> [4] \"    y <- 2\"          \"    print(x + y)\"    \"}\"                   #> [7] \"EOFrmake\""},{"path":"https://beerda.github.io/rmake/reference/is.rule.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if the argument is a valid rule object. — is.rule","title":"Check if the argument is a valid rule object. — is.rule","text":"Function tests whether x valid rule object, .e., whether list inherits rmake.rule S3 class. Instances rule represent atomic building unit, .e., command must executed, optionally depends files rules – see rule() details.","code":""},{"path":"https://beerda.github.io/rmake/reference/is.rule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if the argument is a valid rule object. — is.rule","text":"","code":"is.rule(x)"},{"path":"https://beerda.github.io/rmake/reference/is.rule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if the argument is a valid rule object. — is.rule","text":"x argument tested","code":""},{"path":"https://beerda.github.io/rmake/reference/is.rule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if the argument is a valid rule object. — is.rule","text":"TRUE x valid rule object FALSE otherwise.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/is.rule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Check if the argument is a valid rule object. — is.rule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":null,"dir":"Reference","previous_headings":"","what":"Rule for building text documents using the knitr package — knitrRule","title":"Rule for building text documents using the knitr package — knitrRule","text":"rule executes knitr create text file, described knitr::knit().","code":""},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rule for building text documents using the knitr package — knitrRule","text":"","code":"knitrRule(target, script, depends = NULL, params = list(), task = \"all\")"},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rule for building text documents using the knitr package — knitrRule","text":"target Name output file created script Name RNW file rendered depends vector file names markdown script depends , NULL. params list R values become available within script params variable. task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule.","code":""},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rule for building text documents using the knitr package — knitrRule","text":"Instance S3 class rmake.rule","code":""},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rule for building text documents using the knitr package — knitrRule","text":"rule executes following command separate R process: library(knitr); params <- params; knitr::knit(script, output=target) , parameters given params argument stored global variable script processed knitr. Note re-generation Makefile change params cause re-execution recipe unless script dependencies change. Issuing make clean shell causes removal files specified target parameter.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rule for building text documents using the knitr package — knitrRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/knitrRule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rule for building text documents using the knitr package — knitrRule","text":"","code":"r <- knitrRule(target='report.tex',                script='report.Rnw',                depends=c('data1.csv', 'data2.csv'))  # generate the content of a makefile (as character vector) makefile(list(r)) #>  [1] \"# Generated by rmake: do not edit by hand\"                                                                                             #>  [2] \"SHELL=/bin/sh\"                                                                                                                         #>  [3] \"R=\\\"$(R_HOME)/bin$(R_ARCH)/Rscript\\\"\"                                                                                                  #>  [4] \"RM=rm\"                                                                                                                                 #>  [5] \"CP=cp\"                                                                                                                                 #>  [6] \".ONESHELL:\"                                                                                                                            #>  [7] \"\"                                                                                                                                      #>  [8] \".PHONY: all\"                                                                                                                           #>  [9] \"all: Makefile report.tex\"                                                                                                              #> [10] \"\\t\"                                                                                                                                    #> [11] \"report.tex: report.Rnw data1.csv data2.csv\"                                                                                            #> [12] \"\\t$(R) - <<'EOFrmake'\"                                                                                                                 #> [13] \"\\t{\"                                                                                                                                   #> [14] \"\\t    params <- list(.target = \\\"report.tex\\\", .script = \\\"report.Rnw\\\", .depends = c(\\\"data1.csv\\\", \\\"data2.csv\\\"), .task = \\\"all\\\")\" #> [15] \"\\t    knitr::knit(\\\"report.Rnw\\\", output = \\\"report.tex\\\")\"                                                                            #> [16] \"\\t}\"                                                                                                                                   #> [17] \"\\tEOFrmake\"                                                                                                                            #> [18] \".PHONY: clean\"                                                                                                                         #> [19] \"clean: \"                                                                                                                               #> [20] \"\\t$(RM) report.tex\"                                                                                                                    #> [21] \"Makefile: Makefile.R\"                                                                                                                  #> [22] \"\\t$(R) - <<'EOFrmake'\"                                                                                                                 #> [23] \"\\t{\"                                                                                                                                   #> [24] \"\\t    params <- list(.target = \\\"Makefile\\\", .script = \\\"Makefile.R\\\", .depends = NULL, .task = \\\"all\\\")\"                              #> [25] \"\\t    source(\\\"Makefile.R\\\")\"                                                                                                          #> [26] \"\\t}\"                                                                                                                                   #> [27] \"\\tEOFrmake\"                                                                                                                             # generate to file tmp <- tempdir() makefile(list(r), file.path(tmp, \"Makefile\"))"},{"path":"https://beerda.github.io/rmake/reference/make.html","id":null,"dir":"Reference","previous_headings":"","what":"Run make in the system — make","title":"Run make in the system — make","text":"function executes make command rebuild dependencies according Makefile generated makefile().","code":""},{"path":"https://beerda.github.io/rmake/reference/make.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run make in the system — make","text":"","code":"make(..., .stdout = \"\", .stderr = \"\", .stdin = \"\")"},{"path":"https://beerda.github.io/rmake/reference/make.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run make in the system — make","text":"... Command-line arguments passed make command (see ?make shell details) .stdout direct standard output; see base::system2(). .stderr direct standard error; see base::system2(). .stdin get standard input; see base::system2()","code":""},{"path":"https://beerda.github.io/rmake/reference/make.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run make in the system — make","text":"Exit status command; see base::system2() details.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/make.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Run make in the system — make","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/make.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run make in the system — make","text":"","code":"if (FALSE) { # \\dontrun{   make()        # make all   make('clean') # make the 'clean' task   make('-j', 4) # make with 4 processes in parallel } # }"},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Makefile from a given list of rules (job). — makefile","title":"Generate Makefile from a given list of rules (job). — makefile","text":"(GNU) make jargon, rule sequence commands build result. package, rule understood similarly: command sequence commands optionally produces files depends files (data files scripts) rules. Moreover, rule contains command cleanup, .e., removal generated files.","code":""},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Makefile from a given list of rules (job). — makefile","text":"","code":"makefile(   job = list(),   fileName = NULL,   makeScript = \"Makefile.R\",   vars = NULL,   all = TRUE,   tasks = TRUE,   clean = TRUE,   makefile = TRUE,   depends = NULL )"},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Makefile from a given list of rules (job). — makefile","text":"job list rules (.e., instances S3 class rmake.rule - see rule()) fileName file write . NULL, result returned character vector instead writing file. makeScript name file calls function (used generate makefile rule) vars named character vector shell variables declared resulting Makefile (addition [defaultVars]) TRUE rule automatically created added: created rule dependencies rules, causes everything built make executed shell's command line. tasks TRUE \"task\" rules automatically created added – see rule() details. clean TRUE clean rule automatically created added makefile TRUE Makefile rule automatically created added: rule ensures change R script generates Makefile (.e., calls makefile()) triggers re-generation Makefile beginning build. depends character vector file names makefile generating script depends ","code":""},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate Makefile from a given list of rules (job). — makefile","text":"fileName NULL, function returns character vector contents Makefile. Otherwise, content written given fileName.","code":""},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate Makefile from a given list of rules (job). — makefile","text":"makefile() function takes list rules (see rule()) generates Makefile . Additionally, clean rules optionally generated , can executed shell issuing make make clean command, respectively, build everything erase generated files. need group rules together, can done either via dependencies using task mechanism. rule may assigned one tasks (see task rule()). task created standalone rule depending assigned rules. way, executing make task_name build rules assigned task task_name. default, rules assigned task , allows make build everything.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generate Makefile from a given list of rules (job). — makefile","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/makefile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate Makefile from a given list of rules (job). — makefile","text":"","code":"# create some jobs job <- list(     rRule('dataset.rds', 'preprocess.R', 'dataset.csv'),     markdownRule('report.pdf', 'report.Rmd', 'dataset.rds'),     markdownRule('details.pdf', 'details.Rmd', 'dataset.rds'))  # generate Makefile (output as a character vector) makefile(job) #>  [1] \"# Generated by rmake: do not edit by hand\"                                                                                #>  [2] \"SHELL=/bin/sh\"                                                                                                            #>  [3] \"R=\\\"$(R_HOME)/bin$(R_ARCH)/Rscript\\\"\"                                                                                     #>  [4] \"RM=rm\"                                                                                                                    #>  [5] \"CP=cp\"                                                                                                                    #>  [6] \".ONESHELL:\"                                                                                                               #>  [7] \"\"                                                                                                                         #>  [8] \".PHONY: all\"                                                                                                              #>  [9] \"all: Makefile dataset.rds report.pdf details.pdf\"                                                                         #> [10] \"\\t\"                                                                                                                       #> [11] \"dataset.rds: preprocess.R dataset.csv\"                                                                                    #> [12] \"\\t$(R) - <<'EOFrmake'\"                                                                                                    #> [13] \"\\t{\"                                                                                                                      #> [14] \"\\t    params <- list(.target = \\\"dataset.rds\\\", .script = \\\"preprocess.R\\\", .depends = \\\"dataset.csv\\\", .task = \\\"all\\\")\" #> [15] \"\\t    source(\\\"preprocess.R\\\")\"                                                                                           #> [16] \"\\t}\"                                                                                                                      #> [17] \"\\tEOFrmake\"                                                                                                               #> [18] \"report.pdf: report.Rmd dataset.rds\"                                                                                       #> [19] \"\\t$(R) - <<'EOFrmake'\"                                                                                                    #> [20] \"\\t{\"                                                                                                                      #> [21] \"\\t    params <- list(.target = \\\"report.pdf\\\", .script = \\\"report.Rmd\\\", .depends = \\\"dataset.rds\\\", .task = \\\"all\\\")\"    #> [22] \"\\t    targets <- list(report.pdf = \\\"pdf_document\\\")\"                                                                     #> [23] \"\\t    for (tg in names(targets)) {\"                                                                                       #> [24] \"\\t        rmarkdown::render(\\\"report.Rmd\\\", output_format = targets[[tg]], output_file = tg)\"                             #> [25] \"\\t    }\"                                                                                                                  #> [26] \"\\t}\"                                                                                                                      #> [27] \"\\tEOFrmake\"                                                                                                               #> [28] \"details.pdf: details.Rmd dataset.rds\"                                                                                     #> [29] \"\\t$(R) - <<'EOFrmake'\"                                                                                                    #> [30] \"\\t{\"                                                                                                                      #> [31] \"\\t    params <- list(.target = \\\"details.pdf\\\", .script = \\\"details.Rmd\\\", .depends = \\\"dataset.rds\\\", .task = \\\"all\\\")\"  #> [32] \"\\t    targets <- list(details.pdf = \\\"pdf_document\\\")\"                                                                    #> [33] \"\\t    for (tg in names(targets)) {\"                                                                                       #> [34] \"\\t        rmarkdown::render(\\\"details.Rmd\\\", output_format = targets[[tg]], output_file = tg)\"                            #> [35] \"\\t    }\"                                                                                                                  #> [36] \"\\t}\"                                                                                                                      #> [37] \"\\tEOFrmake\"                                                                                                               #> [38] \".PHONY: clean\"                                                                                                            #> [39] \"clean: \"                                                                                                                  #> [40] \"\\t$(RM) dataset.rds\"                                                                                                      #> [41] \"\\t$(RM) report.pdf\"                                                                                                       #> [42] \"\\t$(RM) details.pdf\"                                                                                                      #> [43] \"Makefile: Makefile.R\"                                                                                                     #> [44] \"\\t$(R) - <<'EOFrmake'\"                                                                                                    #> [45] \"\\t{\"                                                                                                                      #> [46] \"\\t    params <- list(.target = \\\"Makefile\\\", .script = \\\"Makefile.R\\\", .depends = NULL, .task = \\\"all\\\")\"                 #> [47] \"\\t    source(\\\"Makefile.R\\\")\"                                                                                             #> [48] \"\\t}\"                                                                                                                      #> [49] \"\\tEOFrmake\"                                                                                                                # generate to file tmp <- tempdir() makefile(job, file.path(tmp, \"Makefile\"))"},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":null,"dir":"Reference","previous_headings":"","what":"Rule for building text documents from Markdown files — markdownRule","title":"Rule for building text documents from Markdown files — markdownRule","text":"rule executes Markdown rendering create text files various supported formats PDF, DOCX, etc.","code":""},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rule for building text documents from Markdown files — markdownRule","text":"","code":"markdownRule(target, script, depends = NULL, params = list(), task = \"all\")"},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rule for building text documents from Markdown files — markdownRule","text":"target Name output file created script Name markdown file rendered depends vector file names markdown script depends , NULL. params list R values become available within script params variable. task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule.","code":""},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rule for building text documents from Markdown files — markdownRule","text":"Instance S3 class rmake.rule","code":""},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rule for building text documents from Markdown files — markdownRule","text":"rule executes following command separate R process: params <- params; rmarkdown::render(script, output_format=format, output_file=target) , parameters given params argument stored global variable script rendered rmarkdown. Note re-generation Makefile change params cause re-execution recipe unless script dependencies change. Issuing make clean shell causes removal files specified target parameter.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rule for building text documents from Markdown files — markdownRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/markdownRule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rule for building text documents from Markdown files — markdownRule","text":"","code":"r <- markdownRule(target='report.pdf',                   script='report.Rmd',                   depends=c('data1.csv', 'data2.csv'))  # generate the content of a makefile (as character vector) makefile(list(r)) #>  [1] \"# Generated by rmake: do not edit by hand\"                                                                                             #>  [2] \"SHELL=/bin/sh\"                                                                                                                         #>  [3] \"R=\\\"$(R_HOME)/bin$(R_ARCH)/Rscript\\\"\"                                                                                                  #>  [4] \"RM=rm\"                                                                                                                                 #>  [5] \"CP=cp\"                                                                                                                                 #>  [6] \".ONESHELL:\"                                                                                                                            #>  [7] \"\"                                                                                                                                      #>  [8] \".PHONY: all\"                                                                                                                           #>  [9] \"all: Makefile report.pdf\"                                                                                                              #> [10] \"\\t\"                                                                                                                                    #> [11] \"report.pdf: report.Rmd data1.csv data2.csv\"                                                                                            #> [12] \"\\t$(R) - <<'EOFrmake'\"                                                                                                                 #> [13] \"\\t{\"                                                                                                                                   #> [14] \"\\t    params <- list(.target = \\\"report.pdf\\\", .script = \\\"report.Rmd\\\", .depends = c(\\\"data1.csv\\\", \\\"data2.csv\\\"), .task = \\\"all\\\")\" #> [15] \"\\t    targets <- list(report.pdf = \\\"pdf_document\\\")\"                                                                                  #> [16] \"\\t    for (tg in names(targets)) {\"                                                                                                    #> [17] \"\\t        rmarkdown::render(\\\"report.Rmd\\\", output_format = targets[[tg]], output_file = tg)\"                                          #> [18] \"\\t    }\"                                                                                                                               #> [19] \"\\t}\"                                                                                                                                   #> [20] \"\\tEOFrmake\"                                                                                                                            #> [21] \".PHONY: clean\"                                                                                                                         #> [22] \"clean: \"                                                                                                                               #> [23] \"\\t$(RM) report.pdf\"                                                                                                                    #> [24] \"Makefile: Makefile.R\"                                                                                                                  #> [25] \"\\t$(R) - <<'EOFrmake'\"                                                                                                                 #> [26] \"\\t{\"                                                                                                                                   #> [27] \"\\t    params <- list(.target = \\\"Makefile\\\", .script = \\\"Makefile.R\\\", .depends = NULL, .task = \\\"all\\\")\"                              #> [28] \"\\t    source(\\\"Makefile.R\\\")\"                                                                                                          #> [29] \"\\t}\"                                                                                                                                   #> [30] \"\\tEOFrmake\"                                                                                                                             # generate to file tmp <- tempdir() makefile(list(r), file.path(tmp, \"Makefile\"))"},{"path":"https://beerda.github.io/rmake/reference/offlineRule.html","id":null,"dir":"Reference","previous_headings":"","what":"Rule for requesting manual user action — offlineRule","title":"Rule for requesting manual user action — offlineRule","text":"Instead building target, rule simply issues given error message. rule useful cases target target depends depends must updated manual process. target older dependencies, make throw error user manually updates target.","code":""},{"path":"https://beerda.github.io/rmake/reference/offlineRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rule for requesting manual user action — offlineRule","text":"","code":"offlineRule(target, message, depends = NULL, task = \"all\")"},{"path":"https://beerda.github.io/rmake/reference/offlineRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rule for requesting manual user action — offlineRule","text":"target character vector target file names manual (offline) build command message error message issued targets older dependencies depends depends character vector file names targets depend task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule.","code":""},{"path":"https://beerda.github.io/rmake/reference/offlineRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rule for requesting manual user action — offlineRule","text":"Instance S3 class rmake.rule","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/offlineRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rule for requesting manual user action — offlineRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/offlineRule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rule for requesting manual user action — offlineRule","text":"","code":"r <- offlineRule(target='offlinedata.csv',                  message='Please re-generate manually offlinedata.csv',                  depends=c('source1.csv', 'source2.csv'))  # generate the content of a makefile (as character vector) makefile(list(r)) #>  [1] \"# Generated by rmake: do not edit by hand\"                                                                #>  [2] \"SHELL=/bin/sh\"                                                                                            #>  [3] \"R=\\\"$(R_HOME)/bin$(R_ARCH)/Rscript\\\"\"                                                                     #>  [4] \"RM=rm\"                                                                                                    #>  [5] \"CP=cp\"                                                                                                    #>  [6] \".ONESHELL:\"                                                                                               #>  [7] \"\"                                                                                                         #>  [8] \".PHONY: all\"                                                                                              #>  [9] \"all: Makefile offlinedata.csv\"                                                                            #> [10] \"\\t\"                                                                                                       #> [11] \"offlinedata.csv: source1.csv source2.csv\"                                                                 #> [12] \"\\t$(R) - <<'EOFrmake'\"                                                                                    #> [13] \"\\t{\"                                                                                                      #> [14] \"\\t    stop(\\\"Please re-generate manually offlinedata.csv\\\")\"                                              #> [15] \"\\t}\"                                                                                                      #> [16] \"\\tEOFrmake\"                                                                                               #> [17] \".PHONY: clean\"                                                                                            #> [18] \"clean: \"                                                                                                  #> [19] \"\\t$(RM) offlinedata.csv\"                                                                                  #> [20] \"Makefile: Makefile.R\"                                                                                     #> [21] \"\\t$(R) - <<'EOFrmake'\"                                                                                    #> [22] \"\\t{\"                                                                                                      #> [23] \"\\t    params <- list(.target = \\\"Makefile\\\", .script = \\\"Makefile.R\\\", .depends = NULL, .task = \\\"all\\\")\" #> [24] \"\\t    source(\\\"Makefile.R\\\")\"                                                                             #> [25] \"\\t}\"                                                                                                      #> [26] \"\\tEOFrmake\"                                                                                                # generate to file tmp <- tempdir() makefile(list(r), file.path(tmp, \"Makefile\"))"},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":null,"dir":"Reference","previous_headings":"","what":"Return a given set of properties of all rules in a list — prerequisites","title":"Return a given set of properties of all rules in a list — prerequisites","text":"targets() returns character vector unique values target properties, prerequisites() returns depends script properties, tasks() returns task properties given rule() list rules.","code":""},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return a given set of properties of all rules in a list — prerequisites","text":"","code":"prerequisites(x)  targets(x)  tasks(x)  terminals(x)"},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return a given set of properties of all rules in a list — prerequisites","text":"x instance rmake.rule class list instances","code":""},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return a given set of properties of all rules in a list — prerequisites","text":"character vector unique values selected property obtained rules x","code":""},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Return a given set of properties of all rules in a list — prerequisites","text":"terminals() returns targets prerequisites rule.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Return a given set of properties of all rules in a list — prerequisites","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/prerequisites.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return a given set of properties of all rules in a list — prerequisites","text":"","code":"job <- 'data.csv' %>>%   rRule('process.R', task='basic') %>>%   'data.rds' %>>%   markdownRule('report.Rnw', task='basic') %>>%   'report.pdf'  prerequisites(job)    # returns c('process.R', data.csv', 'report.Rnw', 'data.rds') #> [1] \"process.R\"  \"data.csv\"   \"report.Rnw\" \"data.rds\"   targets(job)          # returns c('data.rds', 'report.pdf') #> [1] \"data.rds\"   \"report.pdf\" tasks(job)            # returns 'basic' #> [1] \"basic\""},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":null,"dir":"Reference","previous_headings":"","what":"Rule for running R scripts — rRule","title":"Rule for running R scripts — rRule","text":"rule executes R scripts create various file outputs.","code":""},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rule for running R scripts — rRule","text":"","code":"rRule(   target,   script,   depends = NULL,   params = list(),   task = \"all\",   preBuild = NULL,   postBuild = NULL )"},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rule for running R scripts — rRule","text":"target Name output files created script Name R script executed depends vector file names R script depends , NULL. params list R values become available within script params variable. task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule. preBuild character vector shell commands executed building target postBuild character vector shell commands executed building target","code":""},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rule for running R scripts — rRule","text":"Instance S3 class rmake.rule","code":""},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Rule for running R scripts — rRule","text":"detail, rule executes following command separate R process: params <- params; source(script) , parameters given params argument stored global variable script sourced. Note re-generation Makefile change params cause re-execution recipe unless script dependencies change. Issuing make clean shell causes removal files specified target parameter.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rule for running R scripts — rRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/rRule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rule for running R scripts — rRule","text":"","code":"r <- rRule(target='cleandata.csv',            script='clean.R',            depends=c('data1.csv', 'data2.csv'))  # generate the content of a makefile (as character vector) makefile(list(r)) #>  [1] \"# Generated by rmake: do not edit by hand\"                                                                                             #>  [2] \"SHELL=/bin/sh\"                                                                                                                         #>  [3] \"R=\\\"$(R_HOME)/bin$(R_ARCH)/Rscript\\\"\"                                                                                                  #>  [4] \"RM=rm\"                                                                                                                                 #>  [5] \"CP=cp\"                                                                                                                                 #>  [6] \".ONESHELL:\"                                                                                                                            #>  [7] \"\"                                                                                                                                      #>  [8] \".PHONY: all\"                                                                                                                           #>  [9] \"all: Makefile cleandata.csv\"                                                                                                           #> [10] \"\\t\"                                                                                                                                    #> [11] \"cleandata.csv: clean.R data1.csv data2.csv\"                                                                                            #> [12] \"\\t$(R) - <<'EOFrmake'\"                                                                                                                 #> [13] \"\\t{\"                                                                                                                                   #> [14] \"\\t    params <- list(.target = \\\"cleandata.csv\\\", .script = \\\"clean.R\\\", .depends = c(\\\"data1.csv\\\", \\\"data2.csv\\\"), .task = \\\"all\\\")\" #> [15] \"\\t    source(\\\"clean.R\\\")\"                                                                                                             #> [16] \"\\t}\"                                                                                                                                   #> [17] \"\\tEOFrmake\"                                                                                                                            #> [18] \".PHONY: clean\"                                                                                                                         #> [19] \"clean: \"                                                                                                                               #> [20] \"\\t$(RM) cleandata.csv\"                                                                                                                 #> [21] \"Makefile: Makefile.R\"                                                                                                                  #> [22] \"\\t$(R) - <<'EOFrmake'\"                                                                                                                 #> [23] \"\\t{\"                                                                                                                                   #> [24] \"\\t    params <- list(.target = \\\"Makefile\\\", .script = \\\"Makefile.R\\\", .depends = NULL, .task = \\\"all\\\")\"                              #> [25] \"\\t    source(\\\"Makefile.R\\\")\"                                                                                                          #> [26] \"\\t}\"                                                                                                                                   #> [27] \"\\tEOFrmake\"                                                                                                                             # generate to file tmp <- tempdir() makefile(list(r), file.path(tmp, \"Makefile\"))"},{"path":"https://beerda.github.io/rmake/reference/replaceSuffix.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","title":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","text":"helper function takes file name fileName, removes extension (suffix), adds new extension newSuffix.","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceSuffix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","text":"","code":"replaceSuffix(fileName, newSuffix)"},{"path":"https://beerda.github.io/rmake/reference/replaceSuffix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","text":"fileName character vector original filenames newSuffix new extension replace old extensions file names fileName","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceSuffix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","text":"character vector new file names old extensions replaced newSuffix","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceSuffix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceSuffix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace the suffix of a given file name with a new extension (suffix) — replaceSuffix","text":"","code":"replaceSuffix('filename.Rmd', '.pdf')          # 'filename.pdf' #> [1] \"filename.pdf\" replaceSuffix(c('a.x', 'b.y', 'c.z'), '.csv')  # 'a.csv', 'b.csv', 'c.csv' #> [1] \"a.csv\" \"b.csv\" \"c.csv\""},{"path":"https://beerda.github.io/rmake/reference/replaceVariables.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace rmake variables in a character vector — replaceVariables","title":"Replace rmake variables in a character vector — replaceVariables","text":"function searches rmake variables given vector x replaces values defined vars argument. rmake variable identified $[VARIABLE_NAME] string.","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceVariables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace rmake variables in a character vector — replaceVariables","text":"","code":"replaceVariables(x, vars)"},{"path":"https://beerda.github.io/rmake/reference/replaceVariables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace rmake variables in a character vector — replaceVariables","text":"x character vector replace rmake variables vars named character vector variable definitions (names variable names, values variable values)","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceVariables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace rmake variables in a character vector — replaceVariables","text":"character vector rmake variables replaced values","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/replaceVariables.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Replace rmake variables in a character vector — replaceVariables","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/replaceVariables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Replace rmake variables in a character vector — replaceVariables","text":"","code":"vars <- c(SIZE='small', METHOD='abc') replaceVariables('result-$[SIZE]-$[METHOD].csv', vars)   # returns 'result-small-abc.csv' #> [1] \"result-small-abc.csv\""},{"path":"https://beerda.github.io/rmake/reference/rmake-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Makefile generator for R analytical projects — rmake-package","title":"Makefile generator for R analytical projects — rmake-package","text":"rmake creates maintains build process complex analytic tasks R. package allows easy generation Makefile (GNU) 'make' tool, drives build process executing build commands (parallel) update results according given dependencies changed data updated source files.","code":""},{"path":"https://beerda.github.io/rmake/reference/rmake-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Makefile generator for R analytical projects — rmake-package","text":"Note: package requires R_HOME environment variable properly set.","code":""},{"path":"https://beerda.github.io/rmake/reference/rmake-package.html","id":"basic-usage","dir":"Reference","previous_headings":"","what":"Basic Usage","title":"Makefile generator for R analytical projects — rmake-package","text":"Suppose file dataset.csv. want pre-process store results dataset.rds using preprocess.R R script. , dataset.rds input file report.Rmd details.Rmd, R-Markdown scripts generate report.pdf details.pdf. whole project can initialized rmake follows: Let us assume rmake package well make tool properly installed. Create new directory (R studio project) copy dataset.csv . Load rmake package create skeleton files : library(rmake) rmakeSkeleton('.') Makefile.R Makefile created current directory ('.'). Create files preprocess.R, report.Rmd, details.Rmd. Edit Makefile.R follows: library(rmake) job <- list(     rRule('dataset.rds', 'preprocess.R', 'dataset.csv'),     markdownRule('report.pdf', 'report.Rmd', 'dataset.rds'),     markdownRule('details.pdf', 'details.Rmd', 'dataset.rds') ) makefile(job, \"Makefile\") create three build rules: one processing preprocess.R two executing report.Rmd details.Rmd generate resulting PDF files. Run make build project R Studio (Build/Build ). automatically re-generate Makefile execute preprocess.R generation report.Rmd details.Rmd according changes made source files.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/rmake-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Makefile generator for R analytical projects — rmake-package","text":"Maintainer: Michal Burda michal.burda@osu.cz (ORCID)","code":""},{"path":"https://beerda.github.io/rmake/reference/rmakeSkeleton.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare an existing project for building with rmake. — rmakeSkeleton","title":"Prepare an existing project for building with rmake. — rmakeSkeleton","text":"function creates Makefile.R empty rmake project generates basic Makefile .","code":""},{"path":"https://beerda.github.io/rmake/reference/rmakeSkeleton.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare an existing project for building with rmake. — rmakeSkeleton","text":"","code":"rmakeSkeleton(path)"},{"path":"https://beerda.github.io/rmake/reference/rmakeSkeleton.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare an existing project for building with rmake. — rmakeSkeleton","text":"path Path target directory create files. Use \".\" current directory.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/rmakeSkeleton.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Prepare an existing project for building with rmake. — rmakeSkeleton","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/rmakeSkeleton.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare an existing project for building with rmake. — rmakeSkeleton","text":"","code":"# creates/overrides Makefile.R and Makefile in a temporary directory rmakeSkeleton(path=tempdir())"},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":null,"dir":"Reference","previous_headings":"","what":"General creator of an instance of the S3 rmake.rule class — rule","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"rule atomic element build process. defines set target file names built given build command given set depends files targets depend , can removed given clean command.","code":""},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"","code":"rule(   target,   depends = NULL,   build = NULL,   clean = NULL,   task = \"all\",   phony = FALSE,   type = \"\" )"},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"target character vector target file names created given build command depends character vector file names build command depends build shell command runs build given target clean shell command erases files produced build command task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule. phony Whether rule PHONY (.e., non-file) target. rule marked phony target file name generated build commands. E.g., clean phony targets. Also, targets representing tasks (see task ) phony. type string representing type rule used e.g. printing rule easily readable format. instance, rRule() uses R, markdownRule() uses markdown, etc.","code":""},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"Instance S3 class rmake.rule","code":""},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"need group rules together, one can assign task identifier task argument. rule may assigned one tasks. Tasks may built executing make task_name command line, forces rebuilding rules assigned task 'task_name'. default, rules assigned task , causes make command build everything.","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/rule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"General creator of an instance of the S3 rmake.rule class — rule","text":"","code":"r <- rule(target='something.abc',           depends=c('file.a', 'file.b', 'file.c'),           build='myCompiler file.a file.b file.c -o something.abc',           clean='$(RM) something.abc')  # generate the content of a makefile (as character vector) makefile(list(r)) #>  [1] \"# Generated by rmake: do not edit by hand\"                                                                #>  [2] \"SHELL=/bin/sh\"                                                                                            #>  [3] \"R=\\\"$(R_HOME)/bin$(R_ARCH)/Rscript\\\"\"                                                                     #>  [4] \"RM=rm\"                                                                                                    #>  [5] \"CP=cp\"                                                                                                    #>  [6] \".ONESHELL:\"                                                                                               #>  [7] \"\"                                                                                                         #>  [8] \".PHONY: all\"                                                                                              #>  [9] \"all: Makefile something.abc\"                                                                              #> [10] \"\\t\"                                                                                                       #> [11] \"something.abc: file.a file.b file.c\"                                                                      #> [12] \"\\tmyCompiler file.a file.b file.c -o something.abc\"                                                       #> [13] \".PHONY: clean\"                                                                                            #> [14] \"clean: \"                                                                                                  #> [15] \"\\t$(RM) something.abc\"                                                                                    #> [16] \"Makefile: Makefile.R\"                                                                                     #> [17] \"\\t$(R) - <<'EOFrmake'\"                                                                                    #> [18] \"\\t{\"                                                                                                      #> [19] \"\\t    params <- list(.target = \\\"Makefile\\\", .script = \\\"Makefile.R\\\", .depends = NULL, .task = \\\"all\\\")\" #> [20] \"\\t    source(\\\"Makefile.R\\\")\"                                                                             #> [21] \"\\t}\"                                                                                                      #> [22] \"\\tEOFrmake\"                                                                                                # generate to file tmp <- tempdir() makefile(list(r), file.path(tmp, \"Makefile\"))"},{"path":"https://beerda.github.io/rmake/reference/sanitizePath.html","id":null,"dir":"Reference","previous_headings":"","what":"Sanitize a file path for the current operating system — sanitizePath","title":"Sanitize a file path for the current operating system — sanitizePath","text":"function replaces forward slashes backslashes Windows systems, leaves path unchanged Unix-like systems.","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizePath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sanitize a file path for the current operating system — sanitizePath","text":"","code":"sanitizePath(path)"},{"path":"https://beerda.github.io/rmake/reference/sanitizePath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sanitize a file path for the current operating system — sanitizePath","text":"path character string representing file path sanitized.","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizePath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sanitize a file path for the current operating system — sanitizePath","text":"sanitized file path suitable current operating system.","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizePath.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Sanitize a file path for the current operating system — sanitizePath","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizeSpaces.html","id":null,"dir":"Reference","previous_headings":"","what":"Escape spaces in a string as needed in file names used in Makefile files — sanitizeSpaces","title":"Escape spaces in a string as needed in file names used in Makefile files — sanitizeSpaces","text":"Escape spaces string needed file names used Makefile files","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizeSpaces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Escape spaces in a string as needed in file names used in Makefile files — sanitizeSpaces","text":"","code":"sanitizeSpaces(x)"},{"path":"https://beerda.github.io/rmake/reference/sanitizeSpaces.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Escape spaces in a string as needed in file names used in Makefile files — sanitizeSpaces","text":"x character vector sanitized","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizeSpaces.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Escape spaces in a string as needed in file names used in Makefile files — sanitizeSpaces","text":"character vector spaces replaced \\","code":""},{"path":"https://beerda.github.io/rmake/reference/sanitizeSpaces.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Escape spaces in a string as needed in file names used in Makefile files — sanitizeSpaces","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/subdirRule.html","id":null,"dir":"Reference","previous_headings":"","what":"Rule for running the make process in a subdirectory — subdirRule","title":"Rule for running the make process in a subdirectory — subdirRule","text":"subdirectory target argument assumed contain Makefile. rule executes make <targetTask> subdirectory (<targetTask> value targetTask argument).","code":""},{"path":"https://beerda.github.io/rmake/reference/subdirRule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rule for running the make process in a subdirectory — subdirRule","text":"","code":"subdirRule(target, depends = NULL, task = \"all\", targetTask = \"all\")"},{"path":"https://beerda.github.io/rmake/reference/subdirRule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rule for running the make process in a subdirectory — subdirRule","text":"target Name subdirectory depends Must NULL task character vector parent task names. mechanism tasks allows grouping rules. Anything different '' cause creation new task depending given rule. Executing make taskname force building rule. targetTask task execute subdirectory.","code":""},{"path":"https://beerda.github.io/rmake/reference/subdirRule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rule for running the make process in a subdirectory — subdirRule","text":"instance S3 class rmake.rule","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/subdirRule.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Rule for running the make process in a subdirectory — subdirRule","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/visualizeRules.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize dependencies defined by a rule or a list of rules — visualizeRules","title":"Visualize dependencies defined by a rule or a list of rules — visualizeRules","text":"Visualize dependencies defined rule list rules","code":""},{"path":"https://beerda.github.io/rmake/reference/visualizeRules.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize dependencies defined by a rule or a list of rules — visualizeRules","text":"","code":"visualizeRules(x, legend = TRUE)"},{"path":"https://beerda.github.io/rmake/reference/visualizeRules.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize dependencies defined by a rule or a list of rules — visualizeRules","text":"x instance S3 rmake.rule class list objects legend Whether draw legend","code":""},{"path":[]},{"path":"https://beerda.github.io/rmake/reference/visualizeRules.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Visualize dependencies defined by a rule or a list of rules — visualizeRules","text":"Michal Burda","code":""},{"path":"https://beerda.github.io/rmake/reference/visualizeRules.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize dependencies defined by a rule or a list of rules — visualizeRules","text":"","code":"job <- c('data1.csv', 'data2.csv') %>>%   rRule('process.R') %>>%   'data.rds' %>>%   markdownRule('report.Rmd') %>>%   'report.pdf'  if (FALSE) { # \\dontrun{ visualizeRules(job) } # }"},{"path":"https://beerda.github.io/rmake/news/index.html","id":"rmake-122","dir":"Changelog","previous_headings":"","what":"rmake 1.2.2","title":"rmake 1.2.2","text":"released: 2026-01-07 fixed buggy behavior rule really long command lines","code":""},{"path":"https://beerda.github.io/rmake/news/index.html","id":"rmake-121","dir":"Changelog","previous_headings":"","what":"rmake 1.2.1","title":"rmake 1.2.1","text":"released: 2025-11-12 added arguments .stdout, .stderr, .stdin make() removed dependency pryr package","code":""},{"path":"https://beerda.github.io/rmake/news/index.html","id":"rmake-120","dir":"Changelog","previous_headings":"","what":"rmake 1.2.0","title":"rmake 1.2.0","text":"released: 2025-11-12 expandTemplate() now allows character vectors templates added introductory vignette added subdirRule() compilation subdirectories added knitrRule() compilation Rnw files knitr:knit() added depRule() enabled depends argument makefile() allows makefile generator depend files fixed evaluation %>>% function fixed handling filenames spaces ","code":""},{"path":"https://beerda.github.io/rmake/news/index.html","id":"rmake-110","dir":"Changelog","previous_headings":"","what":"rmake 1.1.0","title":"rmake 1.1.0","text":"released: 2018-08-30 added %>>% pipes added support rule templates added print() list rules added graphical visualization dependencies","code":""},{"path":"https://beerda.github.io/rmake/news/index.html","id":"rmake-101","dir":"Changelog","previous_headings":"","what":"rmake 1.0.1","title":"rmake 1.0.1","text":"released: 2018-08-02 fixed unit tests Solaris fixed documentation added make clean rules generated Makefiles","code":""},{"path":"https://beerda.github.io/rmake/news/index.html","id":"rmake-100","dir":"Changelog","previous_headings":"","what":"rmake 1.0.0","title":"rmake 1.0.0","text":"released: 2018-03-29 initial version supporting rules R script, R Markdown offline rules","code":""}]
